@0
S: MOV RIGHT, ACC
JEZ LR
SUB 90
JEZ DU
SUB 90
JEZ RL
MOV 4, RIGHT
JMP S
LR:MOV 1, RIGHT
JMP S
DU:MOV 2, RIGHT
JMP NXT
RL: MOV 3, RIGHT
NXT:MOV RIGHT,DOWN
MOV DOWN, RIGHT

@1
S: MOV UP, LEFT
MOV LEFT, ACC
JRO ACC
JMP LR
JMP DU
JMP RL
MOV UP, DOWN
JMP S
LR: MOV UP, RIGHT
JMP S
RL: MOV UP, LEFT
MOV LEFT, RIGHT
JMP S
DU: MOV UP, LEFT
MOV LEFT, DOWN

@2
MOV LEFT, ACC
MOV 0, DOWN
JLZ L2
SUB 1
L: JEZ END
MOV 1, DOWN
MOV 0, DOWN
SUB 1
JMP L
L2: JEZ END
MOV -1, DOWN
MOV 0, DOWN
ADD 1
JMP L2
END: MOV 0, DOWN

@3


@4
MOV UP, ACC
NEG
ADD 1
MOV ACC, UP

@5
MOV UP, ACC
MOV 1, RIGHT
JLZ L2
SUB 1
L: JEZ END
MOV 0, RIGHT
MOV 1, RIGHT
SUB 1
JMP L
L2: JEZ END
MOV 0, RIGHT
MOV -1, RIGHT
ADD 1
JMP L2
END: MOV 1, RIGHT

@6
S: MOV ANY, ACC
JEZ UV
MOV LEFT, ACC
JNZ S
MOV ACC, DOWN
MOV LEFT, DOWN
JRO -4
UV:
MOV UP, ACC
JEZ S
MOV ACC, DOWN
MOV UP, DOWN
JRO -4

@7


@8


@9
MOV ACC, DOWN
SWP
MOV ACC, DOWN
SWP
MOV 3, DOWN
MOV -1, DOWN
ADD ANY
SWP
ADD ANY
SWP

@10


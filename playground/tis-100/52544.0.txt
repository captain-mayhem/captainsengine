@0
MOV RIGHT, ACC
SUB 2
JEZ END
YLOOP:
SUB 1
MOV -1, RIGHT
JGZ YLOOP
END:
MOV 1, RIGHT

@1
MOV UP, RIGHT
MOV UP, RIGHT
MOV RIGHT, NIL
MOV UP, DOWN
MOV UP, LEFT
MOV DOWN, NIL
LOOP:
MOV LEFT, ACC
MOV -1, RIGHT
MOV RIGHT, NIL
MOV -1, DOWN
MOV DOWN, NIL
JLZ LOOP

@2
MOV LEFT, ACC
MOV ACC, DOWN
JLZ WAIT
MOV LEFT, DOWN
WAIT:
MOV DOWN, LEFT

@3


@4
MOV UP, ACC
JLZ REPLAYW
SAV
REPLAYW:
SWP
MOV ACC, DOWN
SWP
MOV DOWN, UP

@5
MOV UP, ACC
JLZ REPLAY
MOV ACC, RIGHT
MOV UP, ACC
SAV
REPLAY:
MOV -1, RIGHT
MOV RIGHT, NIL
SWP
MOV ACC, DOWN
ADD 1
SWP
MOV 0, UP

@6
MOV LEFT, ACC
JLZ REPLAYX
SAV
JRO -3
REPLAYX:
SWP
MOV ACC, DOWN
SWP
MOV 0, LEFT

@7


@8
MOV UP, ACC
LOOP:
MOV 3, RIGHT
SUB 1
JGZ LOOP
MOV -1 RIGHT
MOV 0 UP

@9
MOV ANY, DOWN

@10
MOV UP, LEFT

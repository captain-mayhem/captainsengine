@0
MOV UP, ACC
JNZ GO
ADD 1
GO:
MOV ACC, RIGHT
MOV ACC, RIGHT

@1
MOV UP, ACC
JNZ GO
ADD 1
GO:
SAV
SUB LEFT
JGZ OTH
SWP
MOV ACC, DOWN
MOV LEFT, DOWN
JMP END
OTH:MOV LEFT, DOWN
SWP
MOV ACC, DOWN
END: MOV 0, DOWN

@2
MOV UP, ACC
JNZ GO
ADD 1
GO:
MOV ACC, RIGHT
MOV ACC, RIGHT

@3
MOV UP, ACC
JNZ GO
ADD 1
GO:
SAV
SUB LEFT
JGZ OTH
SWP
MOV ACC, DOWN
MOV LEFT, DOWN
JMP END
OTH:MOV LEFT, DOWN
SWP
MOV ACC, DOWN
END:MOV 0, DOWN

@4


@5
MOV UP, ACC
JNZ CONT
MOV 999, ACC
CONT:
SAV
MOV ACC, ANY
MOV RIGHT, ACC
JGZ REPEAT
JEZ END
SWP
JRO -8
REPEAT:
SWP
MOV ACC, RIGHT
END:

@6
MOV DOWN, ACC
JEZ END
MOV LEFT, ACC
SUB RIGHT
JGZ TAKER
MOV -1, RIGHT
MOV 1, LEFT
MOV LEFT, DOWN
JRO -8
TAKER:MOV 1, RIGHT
MOV -1, LEFT
MOV RIGHT, DOWN
JRO -12
END: MOV 0, RIGHT
MOV 0, LEFT

@7
MOV UP, ACC
JNZ CONT
MOV 999, ACC
CONT:
SAV
MOV ACC, ANY
MOV LEFT, ACC
JGZ REPEAT
JEZ END
SWP
JRO -8
REPEAT:
SWP
MOV ACC, LEFT
END:

@8
MOV RIGHT, NIL
MOV UP, NIL

@9
MOV 1, UP
MOV UP, NIL
MOV 1, UP
MOV UP, NIL
MOV 1, UP
MOV UP, DOWN
MOV 1, UP
MOV UP, NIL
MOV 0, UP
MOV 0, RIGHT
MOV 0, LEFT

@10
MOV LEFT, NIL
MOV UP, NIL
